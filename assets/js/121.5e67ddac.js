(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{452:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1、安装-pm2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装-pm2"}},[s._v("#")]),s._v(" 1、安装 PM2")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" pm2 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局安装pm2")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_2、启动监听模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、启动监听模式"}},[s._v("#")]),s._v(" 2、启动监听模式")]),s._v(" "),a("p",[s._v("当文件发生变化，自动重启。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pm2 start app.js "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--watch")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者 ")]),s._v("\npm2 start ./bin/www "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--watch")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"_3、停止服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、停止服务"}},[s._v("#")]),s._v(" 3、停止服务")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pm2 stop app.js  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# app.js为入口文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者 ")]),s._v("\npm2 stop ./bin/www  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# www 为入口文件夹")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"_4、常用命令集合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、常用命令集合"}},[s._v("#")]),s._v(" 4、常用命令集合")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pm2 list   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看启动列表")]),s._v("\npm2 monit   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看每个应用程序占用情况")]),s._v("\n\npm2 show "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据name查看")]),s._v("\npm2 show "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据id查看")]),s._v("\n\npm2 logs                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有应用日志")]),s._v("\npm2 logs "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据指定应用名查看应用日志")]),s._v("\npm2 logs "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据指定应用ID查看应用日志")]),s._v("\n\npm2 stop all                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止所有应用")]),s._v("\npm2 stop "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("AppName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据应用名停止指定应用")]),s._v("\npm2 stop "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据应用id停止指定应用")]),s._v("\n\npm2 delete "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 杀死指定的进程\npm2 delete all 杀死全部进程\n\npm2 delete all                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭并删除应用")]),s._v("\npm2 delete "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("AppName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据应用名关闭并删除应用")]),s._v("\npm2 delete "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据应用ID关闭并删除应用")]),s._v("\n\npm2 startup   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建开机自启动")]),s._v("\n\npm2 update pm2  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新 pm2")]),s._v("\n\npm2 serve ./dist "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9090")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将目录dist作为静态服务器根目录，端口为9090")]),s._v("\npm2 web   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行健壮的 computer API endpoint (http://localhost:9615) 可用于开发")]),s._v("\n\npm2 ecosystem      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成一个示例JSON配置文件")]),s._v("\npm2 init        \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("h2",{attrs:{id:"_5、使用-pm2-运行-npm-run-dev-等命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、使用-pm2-运行-npm-run-dev-等命令"}},[s._v("#")]),s._v(" 5、使用 pm2 运行 npm run dev 等命令")]),s._v(" "),a("p",[s._v("例如在 package.json 中")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue-cli-service serve"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue-cli-service build"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"analyzer"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cross-env use_analyzer=true vue-cli-service build"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue-cli-service lint"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("使用")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与")]),s._v("\npm2 start "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" -- run dev\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是等效的")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("语法：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pm2 start "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--watch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("taskname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" -- run "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("scriptname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其中 "),a("code",[s._v("--watch")]),s._v(" 监听代码变化，"),a("code",[s._v("--name")]),s._v(" 重命令任务名称，"),a("code",[s._v("-- run")]),s._v("后面跟脚本名字")])])}),[],!1,null,null,null);a.default=e.exports}}]);