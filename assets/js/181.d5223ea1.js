(window.webpackJsonp=window.webpackJsonp||[]).push([[181],{512:function(s,a,t){"use strict";t.r(a);var e=t(0),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"源码文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#源码文件"}},[s._v("#")]),s._v(" 源码文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("├── lib\n│   ├── application.js\n│   ├── context.js\n│   ├── request.js\n│   └── response.js\n└── package.json\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("这个就是 "),a("code",[s._v("GitHub")]),s._v(" "),a("a",{attrs:{href:"https://github.com/koajs/koa/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/koajs/koa"),a("OutboundLink")],1),s._v("上开源的koa2源码的源文件结构，核心代码就是lib目录下的四个文件")]),s._v(" "),a("ul",[a("li",[s._v("application.js 是整个koa2 的入口文件，封装了context，request，response，以及最核心的中间件处理流程。")]),s._v(" "),a("li",[s._v("context.js   处理应用上下文，里面直接封装部分request.js和response.js的方法")]),s._v(" "),a("li",[s._v("request.js   处理http请求")]),s._v(" "),a("li",[s._v("response.js  处理http响应")])]),s._v(" "),a("h2",{attrs:{id:"koa2特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#koa2特性"}},[s._v("#")]),s._v(" koa2特性")]),s._v(" "),a("ul",[a("li",[s._v("只提供封装好http上下文、请求、响应，以及基于"),a("code",[s._v("async/await")]),s._v("的中间件容器。")]),s._v(" "),a("li",[s._v("利用ES7的"),a("code",[s._v("async/await")]),s._v("的来处理传统回调嵌套问题和代替koa@1的generator，但是需要在node.js 7.x的harmony模式下才能支持"),a("code",[s._v("async/await")]),s._v("。")]),s._v(" "),a("li",[s._v("中间件只支持 "),a("code",[s._v("async/await")]),s._v(" 封装的，如果要使用koa@1基于generator中间件，需要通过中间件koa-convert封装一下才能使用。")])])])}),[],!1,null,null,null);a.default=n.exports}}]);