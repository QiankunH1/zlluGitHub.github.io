(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{385:function(s,a,n){"use strict";n.r(a);var t=n(0),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"allowæŒ‡ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#allowæŒ‡ä»¤"}},[s._v("#")]),s._v(" allowæŒ‡ä»¤")]),s._v(" "),a("p",[s._v("ç”¨äºè®¾ç½®å…è®¸è®¿é—®Nginxçš„å®¢æˆ·ç«¯IP")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("allow address "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" CIDR "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" all\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("addressï¼šå…è®¸è®¿é—®çš„å®¢æˆ·ç«¯IPï¼Œä¸æ”¯æŒåŒæ—¶è®¾ç½®å¤šä¸ªã€‚å¦‚æœæœ‰å¤šä¸ªIPéœ€è¦è®¾ç½®ï¼Œéœ€è¦é‡å¤ä½¿ç”¨allowæŒ‡ä»¤")]),s._v(" "),a("p",[s._v("CIDRï¼šå…è®¸è®¿é—®çš„å®¢æˆ·ç«¯çš„CIDRåœ°å€ï¼Œä¾‹å¦‚ 172.10.10.1/100,å‰é¢æ˜¯32ä½IPåœ°å€ï¼Œåé¢â€œ\\25â€ä»£è¡¨è¯¥IPåœ°å€ä¸­å‰25ä½æ˜¯ç½‘ç»œéƒ¨åˆ†ï¼Œå…¶ä½™ä½ä»£è¡¨ä¸»æœºéƒ¨åˆ†ã€‚")]),s._v(" "),a("p",[s._v("allï¼šä»£è¡¨å…è®¸æ‰€æœ‰å®¢æˆ·ç«¯è®¿é—®ã€‚")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("æ³¨æ„")]),s._v(" "),a("p",[s._v("ä»Nginx 0.8.22ç‰ˆæœ¬åï¼Œè¯¥å‘½ä»¤ä¹Ÿæ”¯æŒIPv6åœ°å€ï¼Œæ¯”å¦‚ï¼š\nallow 2620ğŸ’¯e000::8001;")])]),s._v(" "),a("h2",{attrs:{id:"denyæŒ‡ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#denyæŒ‡ä»¤"}},[s._v("#")]),s._v(" denyæŒ‡ä»¤")]),s._v(" "),a("p",[s._v("ä¸allowæ­£å¥½ç›¸åï¼Œç”¨äºè®¾ç½®ç¦æ­¢è®¿é—®Nginxå®¢æˆ·ç«¯IP")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("deny address "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" CIDR "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" all"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¿™ä¸¤ä¸ªæŒ‡ä»¤å¯ä»¥åœ¨httpå—ã€serverå—æˆ–è€…locationå—ä¸­é…ç½®ã€‚")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    deny "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    allow "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.0/24"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    deny all"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("åœ¨ä»¥ä¸Šä¾‹å­ä¸­192.168.1.0/24å®¢æˆ·ç«¯æ˜¯å¯ä»¥è®¿é—®çš„ã€‚å› ä¸ºï¼ŒNginxé…ç½®åœ¨è§£æçš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°denyæŒ‡ä»¤æˆ–è€…allowæŒ‡ä»¤æ˜¯æŒ‰ç…§é¡ºåºå¯¹å½“å‰å®¢æˆ·ç«¯çš„è¿æ¥è¿›è¡Œè®¿é—®æƒé™æ£€æŸ¥çš„ã€‚å¦‚æœé‡åˆ°åŒ¹é…çš„é…ç½®æ—¶ï¼Œåˆ™åœæ­¢ç»§ç»­å‘ä¸‹æœç´¢ç›¸å…³é…ç½®ã€‚å› æ­¤ï¼Œå½“192.168.1.0/24å®¢æˆ·ç«¯è®¿é—®æ—¶ï¼ŒNginxåœ¨ç¬¬ä¸‰è¡Œè§£æé…ç½®å‘ç°å…è®¸è¯¥å®¢æˆ·ç«¯è®¿é—®ï¼Œå°±ä¸ä¼šç»§ç»­å‘ä¸‹è§£æç¬¬4è¡Œäº†ã€‚")]),s._v(" "),a("h2",{attrs:{id:"ç¦æ­¢-ip-è®¿é—®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¦æ­¢-ip-è®¿é—®"}},[s._v("#")]),s._v(" ç¦æ­¢ IP è®¿é—®")]),s._v(" "),a("p",[s._v("è¿›å…¥åˆ° nginx.conf æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä¸‹ deny ip å…¶ä¸­ipä¸ºä½ è¦ç¦æ­¢çš„ipåœ°å€ï¼Œä¾‹å¦‚ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    root   /usr/nginx/html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    deny "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¦æ­¢ 127.0.0.1 è¿™ä¸ªipè®¿é—®")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("åªå…è®¸æŸä¸€ä¸ª IP è®¿é—®æ—¶ï¼ˆæ³¨æ„ï¼šallow ä¸ deny ä¸Šä¸‹é¡ºåºä¸å¯ä¸Šä¸‹é¢ å€’ï¼‰ä¾‹å¦‚ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    root   /usr/nginx/html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    allow "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åªå…è®¸ 127.0.0.1 è¿™ä¸ªipè®¿é—®")]),s._v("\n    deny all"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"ä¸å…è®¸æŸä¸€ä¸ªæ–‡ä»¶å¤¹è¢«è®¿é—®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸å…è®¸æŸä¸€ä¸ªæ–‡ä»¶å¤¹è¢«è®¿é—®"}},[s._v("#")]),s._v(" ä¸å…è®¸æŸä¸€ä¸ªæ–‡ä»¶å¤¹è¢«è®¿é—®")]),s._v(" "),a("p",[s._v("ä¾‹å¦‚ä¸å…è®¸æ‰€æœ‰äººè®¿é—® admin è¿™ä¸ªæ–‡ä»¶å¤¹å¯ä»¥è¿™æ ·é…ç½®ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("location /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    root   /usr/nginx/html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nlocation "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    deny all"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨æ­£åˆ™")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#location ^~/admin/{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    deny all;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"ä¸å…è®¸æŸä¸€ç±»æ–‡ä»¶è¢«è®¿é—®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸å…è®¸æŸä¸€ç±»æ–‡ä»¶è¢«è®¿é—®"}},[s._v("#")]),s._v(" ä¸å…è®¸æŸä¸€ç±»æ–‡ä»¶è¢«è®¿é—®")]),s._v(" "),a("p",[s._v("ä¾‹å¦‚ä¸å…è®¸æ‰€æœ‰äººè®¿é—® .php ç»“å°¾çš„æ–‡ä»¶æ—¶å¯ä»¥è¿™æ ·é…ç½®ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("location /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    root   /usr/nginx/html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nlocation ~/.php"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${\n    deny all;\n}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("ç¦æ­¢æ‰€æœ‰å¤–ç½‘ipï¼Œä»…å…è®¸å†…ç½‘ipï¼Œé…ç½®å¦‚ä¸‹ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("location /"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    root   /usr/nginx/html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    index  index.html index.htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nlocation / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  deny   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.168")]),s._v(".1.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  allow  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.168")]),s._v(".1.0/24"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  deny    all"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("ä»¥ä¸Šåªæ˜¯ç®€å•çš„ä»‹ç»äº†ä¸€ä¸‹æƒé™é…ç½®ï¼Œå¦‚æœ‰å…¶å®ƒéœ€æ±‚çš„è¯å¯ä»¥æ ¹æ®ä»¥ä¸Šä¸ºåŸºç¡€è‡ªç”±ç»„åˆè¿›è¡Œé…ç½®å³å¯ã€‚")])])}),[],!1,null,null,null);a.default=e.exports}}]);